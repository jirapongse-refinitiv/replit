(function(c,h){var g={};c.PubSub=g;c=c.define;h(g);"function"===typeof c&&c.amd?c(function(){return g}):"object"===typeof exports&&(void 0!==module&&module.exports&&(exports=module.exports=g),exports.PubSub=g,module.exports=exports=g)})("object"===typeof window&&window||this,function(c){function h(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1}function g(a){return function(){throw a;}}function n(a,b,e){try{a(b,e)}catch(d){setTimeout(g(d),0)}}function p(a,b,e){a(b,e)}function l(a,b,e,d){var c=
f[b];d=d?p:n;var g;if(f.hasOwnProperty(b))for(g in c)c.hasOwnProperty(g)&&d(c[g],a,e)}function q(a,b,c){return function(){var d=String(a),e=d.lastIndexOf(".");for(l(a,a,b,c);-1!==e;)d=d.substr(0,e),e=d.lastIndexOf("."),l(a,d,b,c)}}function m(a,b,c,d){b=q(a,b,d);a=String(a);d=!(!f.hasOwnProperty(a)||!h(f[a]));for(var e=a.lastIndexOf(".");!d&&-1!==e;)a=a.substr(0,e),e=a.lastIndexOf("."),d=!(!f.hasOwnProperty(a)||!h(f[a]));if(!d)return!1;!0===c?b():setTimeout(b,0);return!0}var f={},r=-1;c.publish=function(a,
b){var e=localStorage.getItem("pubSubConsoleDebug");null!=b&&"enable"===e&&console.warn("Event: "+a+"\n digitalData: "+JSON.stringify(window.digitalData));return m(a,b,!1,c.immediateExceptions)};c.publishSync=function(a,b){return m(a,b,!0,c.immediateExceptions)};c.subscribe=function(a,b){if("function"!==typeof b)return!1;f.hasOwnProperty(a)||(f[a]={});var c="uid_"+String(++r);f[a][c]=b;return c};c.subscribeOnce=function(a,b){var e=c.subscribe(a,function(){c.unsubscribe(e);b.apply(this,arguments)});
return c};c.clearAllSubscriptions=function(){f={}};c.clearSubscriptions=function(a){for(var b in f)f.hasOwnProperty(b)&&0===b.indexOf(a)&&delete f[b]};c.unsubscribe=function(a){var b;if((b="string"===typeof a)&&!(b=f.hasOwnProperty(a)))a:{for(var e in f)if(f.hasOwnProperty(e)&&0===e.indexOf(a)){b=!0;break a}b=!1}var d=b;e=!d&&"string"===typeof a;b="function"===typeof a;var g=!1,h,k;if(d)c.clearSubscriptions(a);else{for(h in f)if(f.hasOwnProperty(h)){d=f[h];if(e&&d[a]){delete d[a];g=a;break}if(b)for(k in d)d.hasOwnProperty(k)&&
d[k]===a&&(delete d[k],g=!0)}return g}}});